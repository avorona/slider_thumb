/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "js/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 2);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Gallery = function () {\n  function Gallery(settings) {\n    _classCallCheck(this, Gallery);\n\n    this.settings = settings;\n    this.dataAmount = settings.galleryAmount;\n    this.galleryWrapper = settings.container;\n    this.galleryItemSelector = settings.galleryItemSelector;\n    this.parsedResponse = [];\n    this.data = [];\n    this.portionOfData = [];\n    this.dataSet = {\n      start: 0,\n      step: 5,\n      end: 0,\n      totalLength: 0\n    };\n\n    this.thumbnails = {\n\n      height: 100,\n      width: 0,\n      itemWidth: 114,\n      list: 0,\n      listHeight: 90,\n      url: [],\n      triggers: []\n    };\n    this.gallery = {\n      width: 0,\n      items: [],\n      total: [],\n      prevBtnSelector: settings.prevSlide || false,\n      prevBtnNode: 0,\n      nextBtnSelector: settings.nextSlide || false,\n      nextBtnNode: 0\n    };\n    this.popup = {\n      wrap: [],\n      imgSrc: '',\n      content: []\n    };\n\n    this.galleryList;\n    this.currentIndex = 0;\n    this.initialLoad();\n  }\n\n  _createClass(Gallery, [{\n    key: 'initialLoad',\n    value: function initialLoad() {\n      var _this = this;\n\n      var self = this;\n\n      new Promise(function (resolve, reject) {\n\n        self.toggleLoader(true);\n\n        setTimeout(function () {\n          resolve();\n        }, 1000);\n      }).then(function () {\n\n        _this.fetch();\n      }).catch(function (reject) {\n\n        throw new Error('check a promise chain');\n      });\n    }\n  }, {\n    key: 'secondaryLoad',\n    value: function secondaryLoad() {\n\n      this.initiateData(true);\n    }\n  }, {\n    key: 'createCORSRequest',\n    value: function createCORSRequest(method, url) {\n\n      var xhr = new XMLHttpRequest();\n      if ('withCredentials' in xhr) {\n\n        // Check if the XMLHttpRequest object has a \"withCredentials\" property.\n        // \"withCredentials\" only exists on XMLHTTPRequest2 objects.\n        xhr.open(method, url, true);\n      } else if (typeof XDomainRequest != 'undefined') {\n\n        // Otherwise, check if XDomainRequest.\n        // XDomainRequest only exists in IE, and is IE's way of making CORS requests.\n        xhr = new XDomainRequest();\n        xhr.open(method, url);\n      } else {\n\n        // Otherwise, CORS is not supported by the browser.\n        xhr = null;\n      }\n      // console.log(xhr);\n      return xhr;\n    }\n  }, {\n    key: 'fetch',\n    value: function fetch() {\n\n      var self = this;\n\n      var url = 'images.json';\n\n      var xhr = self.createCORSRequest('GET', url);\n\n      if (!xhr) {\n        throw new Error('CORS not supported');\n      }\n\n      // Response handlers.\n      xhr.onload = function () {\n        var responseText = xhr.responseText;\n\n        self.handleResponse(responseText);\n      };\n\n      xhr.onerror = function () {\n\n        throw new Error('Woops, there was an error making the request.');\n      };\n\n      xhr.send();\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse(response) {\n\n      this.parsedResponse = JSON.parse(response);\n\n      this.initiateData();\n    }\n  }, {\n    key: 'initiateData',\n    value: function initiateData(secondary) {\n      var _this2 = this;\n\n      var status = secondary || false;\n\n      var self = this;\n\n      if (status) {\n\n        new Promise(function (resolve, reject) {\n\n          setTimeout(function () {\n            self.toggleLoader(false);\n          }, 1000);\n\n          resolve();\n        }).then(function () {\n          self.sliceDataOnPortions(status);\n        }).then(function () {\n          self.showData(true);\n          // console.log('2');\n        }).then(function () {\n          self.toggleLoader(false);\n          // console.log('3');\n        }).catch(function (reject) {\n          // console.log('da');\n        });\n      } else {\n\n        new Promise(function (resolve, reject) {\n\n          self.toggleLoader(true);\n\n          // console.log('1');\n          resolve();\n        }).then(function () {\n          var items = self.parsedResponse;\n          // console.log(items);\n          var limittedArray = items.slice(0, _this2.dataAmount);\n\n          limittedArray.map(function (el) {\n\n            self.data.push(el);\n          });\n          // console.log('2');\n        }).then(function () {\n          self.sliceDataOnPortions();\n          // console.log('3');\n        }).then(function () {\n\n          self.showData();\n          // console.log('4');\n        });\n      }\n    }\n  }, {\n    key: 'sliceDataOnPortions',\n    value: function sliceDataOnPortions(secondary) {\n\n      var status = secondary || false;\n      var self = this;\n      var items = self.data;\n\n      var step = this.dataSet.step;\n      var start = this.dataSet.start;\n      var end = this.dataSet.end;\n\n      end = start + step;\n\n      self.dataSet.totalLength = end;\n\n      // console.log(self.dataSet.totalLength);\n\n      if (status) {\n        // console.log(start,items.length,step);\n\n        if (start < items.length - step) {\n\n          // console.log(items.length);\n\n          start += step;\n          end = start + step;\n\n          // console.log(start, end);\n\n          var portionArray = items.slice(start, end);\n\n          self.portionOfData.length = 0;\n\n          portionArray.map(function (el) {\n\n            self.portionOfData.push(el);\n          });\n\n          this.dataSet.start = start;\n          this.dataSet.end = end;\n        } else {\n\n          self.portionOfData.length = 0;\n        }\n      } else {\n\n        var _portionArray = items.slice(start, end);\n\n        _portionArray.map(function (el) {\n\n          self.portionOfData.push(el);\n        });\n      }\n    }\n  }, {\n    key: 'showData',\n    value: function showData(secondary) {\n\n      var status = secondary || false;\n\n      var self = this;\n\n      var galleryContainer = [].slice.call(document.querySelectorAll(this.galleryWrapper));\n\n      galleryContainer.forEach(function (el) {\n\n        self.fillGallery(el, status);\n\n        self.addThumbs(el, status);\n      });\n    }\n  }, {\n    key: 'fillGallery',\n    value: function fillGallery(galleryContainer, secondary) {\n\n      var status = secondary || false;\n      var self = this;\n      var items = self.portionOfData;\n      var container = galleryContainer;\n\n      if (!status) {\n\n        var itemsAmount = self.dataSet.totalLength;\n        var galleryMinHeight = container.offsetHeight;\n        var thumbnailsHeight = this.thumbnails.height;\n        // console.log(self.dataSet.totalLength);\n\n        var gallery = document.createElement('div');\n\n        gallery.classList.add('gallery', 'js-gallery');\n\n        var galleryHeight = galleryMinHeight - thumbnailsHeight;\n        gallery.style.minHeight = galleryHeight + 'px';\n\n        container.appendChild(gallery);\n\n        var galleryWidth = gallery.offsetWidth;\n\n        self.gallery.width = galleryWidth;\n\n        var galleryList = document.createElement('ul');\n\n        galleryList.classList.add('gallery__list', 'js-gallery-list');\n        galleryList.style.minHeight = galleryHeight + 'px';\n\n        self.galleryList = galleryList;\n\n        self.thumbnails.width = self.thumbnails.itemWidth * (self.dataSet.totalLength + 1);\n\n        new Promise(function (resolve, reject) {\n\n          self.addItemsToGallery(self.galleryList, items);\n\n          resolve();\n        }).then(function () {\n          self.showFirstItems(galleryList);\n        }).then(function () {\n          gallery.appendChild(galleryList);\n        }).then(function () {\n          self.bindEvents();\n        }).then(function () {\n          self.navigation(container);\n        });\n      } else {\n\n        self.thumbnails.width = self.thumbnails.itemWidth * (self.dataSet.totalLength + 1);\n\n        new Promise(function (resolve, reject) {\n\n          self.addItemsToGallery(self.galleryList, items);\n\n          resolve();\n        }).then(function () {\n          self.bindEvents();\n        });\n        // console.log(self.galleryList);\n\n      }\n\n      return true;\n    }\n  }, {\n    key: 'addItemsToGallery',\n    value: function addItemsToGallery(list, items) {\n\n      var self = this;\n\n      // console.log(list);\n\n      var galleryList = list;\n      var data = items;\n      var dataLength = data.length;\n      var galleryMaxWidth = this.gallery.width;\n\n      self.dataSet.totalLength += data.length;\n\n      // console.log(self.dataSet.totalLength);\n\n\n      for (var j = 0; j < dataLength; j++) {\n\n        var galleryItem = document.createElement('li');\n        galleryItem.classList.add('gallery__item', self.galleryItemSelector);\n\n        var galleryItemID = 'slide' + data[j].id;\n        galleryItem.setAttribute('id', galleryItemID);\n\n        galleryItem.style.maxWidth = galleryMaxWidth + 'px';\n\n        galleryItem.innerHTML = '<img src=\"' + data[j].url + '\" class=\"gallery__img\"> ';\n\n        galleryList.appendChild(galleryItem);\n      }\n\n      var slidesNodeList = list.childNodes;\n\n      // console.log(slidesNodeList);\n\n      var slides = [].slice.call(slidesNodeList);\n\n      // console.log(slides);\n\n      self.gallery.items = slides;\n\n      // console.log(self.gallery.total.length, self.dataAmount);\n\n      if (self.gallery.total.length < self.dataAmount) {\n\n        self.gallery.total = self.gallery.items.map(function (el) {\n\n          return el;\n        });\n      }\n    }\n  }, {\n    key: 'bindEvents',\n    value: function bindEvents() {\n\n      this.fullPageMode();\n    }\n  }, {\n    key: 'fullPageMode',\n    value: function fullPageMode() {\n\n      var self = this;\n      self.createPoPUp();\n    }\n  }, {\n    key: 'createPoPUp',\n    value: function createPoPUp() {\n\n      var self = this;\n\n      var modal = document.querySelectorAll('.modal');\n\n      if (modal.length < 2) {\n\n        var body = document.querySelector('body');\n\n        var container = document.createElement('div');\n        container.classList.add('modal', 'modal__fp');\n\n        var inner = document.createElement('div');\n        inner.classList.add('modal__inner');\n\n        container.appendChild(inner);\n\n        var content = document.createElement('div');\n        content.classList.add('modal__content');\n        content.innerHTML = '<span class=\"modal__closeBtn\" ></span>' + '<img class=\"modal__img\" src=\"\">';\n\n        self.clickEventClosePopUp(content);\n\n        inner.appendChild(content);\n\n        self.popup.content = content;\n        self.popup.wrap = container;\n\n        body.appendChild(container);\n      };\n\n      self.getImgSrc();\n    }\n  }, {\n    key: 'getImgSrc',\n    value: function getImgSrc() {\n\n      var self = this;\n\n      var popup = self.popup;\n      var list = self.galleryList;\n\n      // console.log(list);\n\n      var current = [].slice.call(list.children).filter(function (el) {\n\n        if (el.classList.contains(self.galleryItemSelector)) return el;\n      });\n      // console.log(current);\n\n\n      current.forEach(function (el) {\n\n        el.addEventListener('click', function () {\n          // console.log(el);\n          var c = [].slice.call(el.children).find(function (e) {\n\n            var r = e.hasAttribute('src') ? e : false;\n\n            return r;\n          });\n\n          popup.imgSrc = c.getAttribute('src');\n          self.showFullPageImg(popup);\n        });\n      });\n    }\n  }, {\n    key: 'showFullPageImg',\n    value: function showFullPageImg(con) {\n\n      var imgSrc = con.imgSrc;\n      var wrap = con.wrap;\n      var content = con.content;\n      var body = document.querySelector('body');\n\n      var img = [].slice.call(content.children).find(function (el) {\n\n        if (el.classList.contains('modal__img')) return el;\n      });\n\n      img.setAttribute('src', imgSrc);\n      wrap.classList.add('is-active');\n      body.classList.add('over-hid');\n    }\n  }, {\n    key: 'clickEventClosePopUp',\n    value: function clickEventClosePopUp(con) {\n\n      var content = con;\n      var body = document.querySelector('body');\n\n      var close = [].slice.call(content.children).find(function (el) {\n\n        if (el.classList.contains('modal__closeBtn')) return el;\n      });\n\n      close.addEventListener('click', function (eve) {\n\n        console.log(eve.currentTarget, eve.detail);\n\n        eve.currentTarget.closest('.modal').classList.remove('is-active');\n\n        body.classList.remove('over-hid');\n      });\n    }\n  }, {\n    key: 'showFirstItems',\n    value: function showFirstItems(list) {\n\n      var self = this;\n\n      var slides = self.gallery.items;\n\n      var firstSlides = slides.filter(function (el) {\n\n        if (el.getAttribute('id') === 'slide1') return el;\n      });\n\n      firstSlides.forEach(function (el) {\n\n        el.classList.add('is-visible');\n      });\n    }\n  }, {\n    key: 'navigation',\n    value: function navigation(galleryContainer) {\n\n      var self = this;\n      var thisGalleryWrapper = galleryContainer;\n      var prevBtn = void 0,\n          nextBtn = void 0;\n      var thisGalleryChildren = [].slice.call(thisGalleryWrapper.children);\n\n      if (!self.gallery.prevBtnSelector && !self.gallery.nextBtnSelector) {\n\n        prevBtn = document.createElement('div');\n        prevBtn.classList.add('control-btn', 'control-btn__left', 'js-gallery-prev');\n        prevBtn.innerHTML = '<button class=\"icon-btn icon-btn_left\"></button>';\n\n        nextBtn = document.createElement('div');\n        nextBtn.classList.add('control-btn', 'control-btn__right', 'js-gallery-next');\n        nextBtn.innerHTML = '<button class=\"icon-btn icon-btn_right\"></button>';\n\n        thisGalleryWrapper.classList.add('add-controllers');\n        thisGalleryWrapper.appendChild(prevBtn);\n        thisGalleryWrapper.appendChild(nextBtn);\n      } else {\n\n        nextBtn = thisGalleryChildren.filter(function (el) {\n\n          if (el.classList.contains(self.gallery.nextBtnSelector)) {\n            return el;\n          }\n        });\n\n        prevBtn = thisGalleryChildren.filter(function (el) {\n\n          if (el.classList.contains(self.gallery.prevBtnSelector)) {\n            return el;\n          }\n        });\n      }\n\n      self.gallery.prevBtnNode = prevBtn;\n      self.gallery.nextBtnNode = nextBtn;\n\n      this.nextSlide();\n      this.prevSlide();\n    }\n  }, {\n    key: 'nextSlide',\n    value: function nextSlide() {\n\n      var self = this;\n      var nextSlideBtn = self.gallery.nextBtnNode;\n\n      nextSlideBtn.forEach(function (e) {\n\n        e.addEventListener('click', function () {\n\n          var slides = self.gallery.items;\n\n          var currentIndex = slides.findIndex(function (el) {\n\n            if (el.classList.contains('is-visible')) {\n              return el;\n            }\n          });\n\n          self.currentIndex = currentIndex;\n\n          self.secondaryLoad();\n\n          slides[self.currentIndex].classList.toggle('is-visible');\n\n          self.currentIndex = (self.currentIndex + 1) % slides.length;\n\n          slides[self.currentIndex].classList.toggle('is-visible');\n\n          self.changeThumbnails();\n        });\n      });\n    }\n  }, {\n    key: 'prevSlide',\n    value: function prevSlide() {\n      var self = this;\n      var prevSlideBtn = self.gallery.prevBtnNode;\n\n      prevSlideBtn.forEach(function (el) {\n\n        el.addEventListener('click', function () {\n\n          var slides = self.gallery.total;\n\n          var lastSlide = slides.length - 1;\n\n          var currentIndex = slides.findIndex(function (el) {\n\n            if (el.classList.contains('is-visible')) {\n              return el;\n            }\n          });\n\n          self.currentIndex = currentIndex;\n\n          slides[self.currentIndex].classList.toggle('is-visible');\n\n          if (self.currentIndex <= 0) {\n\n            self.currentIndex = lastSlide;\n          } else if (self.currentIndex > 0 && self.currentIndex <= lastSlide) {\n\n            self.currentIndex--;\n          }\n\n          slides[self.currentIndex].classList.toggle('is-visible');\n\n          self.changeThumbnails();\n        });\n      });\n    }\n  }, {\n    key: 'addThumbs',\n    value: function addThumbs(galleryContainer, secondary) {\n\n      var self = this;\n      var status = secondary || false;\n      var data = self.portionOfData;\n      var container = galleryContainer;\n\n      self.thumbnails.url = data.map(function (el) {\n\n        return el.thumbnailUrl;\n      });\n\n      if (!status) {\n\n        var thumbs = document.createElement('div');\n        thumbs.style.minHeight = self.thumbsHeight + 'px';\n        thumbs.classList.add('g-thumbnails');\n\n        var thumbsList = document.createElement('ul');\n        var thumbsListWidth = self.thumbnails.width;\n        thumbsList.style.width = thumbsListWidth + 'px';\n\n        var thumbsListHeight = self.thumbsListHeight;\n        thumbsList.style.height = thumbsListHeight + 'px';\n\n        thumbsList.classList.add('g-thumbnails__list');\n\n        self.thumbnails.list = thumbsList;\n\n        this.addThumbsItem();\n\n        thumbs.appendChild(thumbsList);\n        container.appendChild(thumbs);\n\n        this.moveThumbnails();\n        this.toggleThumbs();\n      } else {\n\n        var _thumbsListWidth = self.thumbnails.width;\n        self.thumbnails.list.style.width = _thumbsListWidth + 'px';\n\n        this.addThumbsItem();\n\n        this.moveThumbnails();\n\n        this.toggleThumbs();\n      }\n    }\n  }, {\n    key: 'addThumbsItem',\n    value: function addThumbsItem() {\n\n      var self = this;\n      var thumbs = self.thumbnails.url;\n      var data = self.portionOfData;\n      var thumbsList = self.thumbnails.list;\n      var thumbsItemWidth = this.thumbnails.itemWidth;\n      var thumbsHeight = self.thumbnails.listHeight;\n\n      // console.log(thumbs, data, thumbsHeight);  \n      for (var i = 0; i < data.length; i++) {\n\n        var thumbsItem = document.createElement('li');\n\n        thumbsItem.style.width = thumbsItemWidth + 'px';\n        thumbsItem.style.height = thumbsHeight + 'px';\n\n        thumbsItem.classList.add('g-thumbnails__item');\n\n        var equalizer = data[i].id - 1;\n\n        var thumbsItemWrap = document.createElement('div');\n        thumbsItemWrap.setAttribute('data-thumb', equalizer);\n        thumbsItemWrap.classList.add('g-thumbnails__item-wrap', 'js-thumb-slide');\n\n        self.thumbnails.triggers.push(thumbsItemWrap);\n\n        thumbsItemWrap.innerHTML = '<img src=\"' + thumbs[i] + '\" class=\"g-thumbnails__img\"' + ' style=\"max-width: 100%;\">';\n\n        thumbsItem.appendChild(thumbsItemWrap);\n\n        thumbsList.appendChild(thumbsItem);\n      }\n    }\n  }, {\n    key: 'toggleThumbs',\n    value: function toggleThumbs() {\n\n      var self = this;\n\n      var thumbTrigger = self.thumbnails.triggers;\n\n      thumbTrigger.forEach(function (el) {\n\n        el.addEventListener('click', function (event) {\n\n          var triggerSiblingSlides = el.closest('.g-thumbnails').previousSibling.childNodes;\n          var slides = [].slice.call(triggerSiblingSlides[0].childNodes);\n\n          var indexToTrigger = +event.currentTarget.getAttribute('data-thumb');\n\n          slides[self.currentIndex].classList.toggle('is-visible');\n\n          self.currentIndex = indexToTrigger;\n          self.changeThumbnails();\n\n          slides[self.currentIndex].classList.toggle('is-visible');\n        });\n      });\n    }\n  }, {\n    key: 'changeThumbnails',\n    value: function changeThumbnails() {\n\n      var self = this;\n      var index = self.currentIndex;\n      var thumbTrigger = self.thumbnails.triggers;\n\n      self.moveThumbnails();\n\n      thumbTrigger.forEach(function (el) {\n\n        el.classList.remove('is-active');\n\n        var thumbDataAttr = +el.getAttribute('data-thumb');\n\n        if (thumbDataAttr === index) {\n\n          el.classList.toggle('is-active');\n        }\n      });\n    }\n  }, {\n    key: 'moveThumbnails',\n    value: function moveThumbnails() {\n\n      var self = this;\n      var index = self.currentIndex;\n      var left = index * self.thumbnails.itemWidth + 5;\n\n      var totalWidth = self.thumbnails.width;\n      var visibleWidth = 600;\n      var stopPoint = totalWidth - visibleWidth;\n\n      if (left >= stopPoint) {\n\n        left = stopPoint;\n      }\n\n      var positionLeft = 'calc( -' + left + 'px' + ' + 15px)';\n\n      self.thumbnails.list.style.left = positionLeft;\n    }\n  }, {\n    key: 'toggleLoader',\n    value: function toggleLoader() {\n\n      var self = this;\n\n      var container = document.querySelector(self.galleryWrapper);\n\n      var loaderWrapper = [].slice.call(container.children).find(function (el) {\n\n        if (el.classList.contains('js-loader-wrapper')) return el;\n      });\n\n      var loader = [].slice.call(loaderWrapper.children).find(function (el) {\n\n        if (el.classList.contains('loader')) return el;\n      });\n\n      loader.classList.toggle('is-active');\n\n      return true;\n    }\n  }]);\n\n  return Gallery;\n}();\n\nexports.default = Gallery;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvZ2FsbGVyeS5qcz9iY2ZjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbGxlcnkge1xyXG5cclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xyXG5cclxuICAgIHRoaXMuc2V0dGluZ3M9c2V0dGluZ3M7XHJcbiAgICB0aGlzLmRhdGFBbW91bnQ9c2V0dGluZ3MuZ2FsbGVyeUFtb3VudDtcclxuICAgIHRoaXMuZ2FsbGVyeVdyYXBwZXI9c2V0dGluZ3MuY29udGFpbmVyO1xyXG4gICAgdGhpcy5nYWxsZXJ5SXRlbVNlbGVjdG9yID0gc2V0dGluZ3MuZ2FsbGVyeUl0ZW1TZWxlY3RvcjtcclxuICAgIHRoaXMucGFyc2VkUmVzcG9uc2U9W107XHJcbiAgICB0aGlzLmRhdGE9W107XHJcbiAgICB0aGlzLnBvcnRpb25PZkRhdGE9W107XHJcbiAgICB0aGlzLmRhdGFTZXQ9IHtcclxuICAgICAgc3RhcnQ6MCxcclxuICAgICAgc3RlcDo1LFxyXG4gICAgICBlbmQ6IDAsXHJcbiAgICAgIHRvdGFsTGVuZ3RoOjBcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMudGh1bWJuYWlscyA9IHtcclxuXHJcbiAgICAgIGhlaWdodDogMTAwLFxyXG4gICAgICB3aWR0aDogMCxcclxuICAgICAgaXRlbVdpZHRoOiAxMTQsXHJcbiAgICAgIGxpc3Q6MCxcclxuICAgICAgbGlzdEhlaWdodDogOTAsXHJcbiAgICAgIHVybDpbXSxcclxuICAgICAgdHJpZ2dlcnM6IFtdXHJcbiAgICB9O1xyXG4gICAgdGhpcy5nYWxsZXJ5PSB7XHJcbiAgICAgIHdpZHRoOiAwLFxyXG4gICAgICBpdGVtczogW10sXHJcbiAgICAgIHRvdGFsOltdLFxyXG4gICAgICBwcmV2QnRuU2VsZWN0b3I6IHNldHRpbmdzLnByZXZTbGlkZSB8fCBmYWxzZSxcclxuICAgICAgcHJldkJ0bk5vZGU6IDAsXHJcbiAgICAgIG5leHRCdG5TZWxlY3Rvcjogc2V0dGluZ3MubmV4dFNsaWRlIHx8IGZhbHNlLFxyXG4gICAgICBuZXh0QnRuTm9kZTogMFxyXG4gICAgfTtcclxuICAgIHRoaXMucG9wdXA9e1xyXG4gICAgICB3cmFwOltdLFxyXG4gICAgICBpbWdTcmM6ICcnLFxyXG4gICAgICBjb250ZW50OiBbXVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdhbGxlcnlMaXN0O1xyXG4gICAgdGhpcy5jdXJyZW50SW5kZXg9MDsgIFxyXG4gICAgdGhpcy5pbml0aWFsTG9hZCgpO1xyXG5cclxuICB9XHJcblxyXG4gIGluaXRpYWxMb2FkKCkge1xyXG5cclxuICAgIGxldCBzZWxmPXRoaXM7XHJcblxyXG5cclxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgc2VsZi50b2dnbGVMb2FkZXIodHJ1ZSk7XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgICBcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuXHJcbiAgICAgICAgdGhpcy5mZXRjaCgpO1xyXG5cclxuICAgXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgocmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvciAoJ2NoZWNrIGEgcHJvbWlzZSBjaGFpbicpO1xyXG4gICAgICB9KTtcclxuXHJcblxyXG4gIH1cclxuXHJcbiAgc2Vjb25kYXJ5TG9hZCgpIHtcclxuXHJcbiAgICB0aGlzLmluaXRpYXRlRGF0YSh0cnVlKTtcclxuXHJcbiAgfVxyXG5cclxuICBjcmVhdGVDT1JTUmVxdWVzdChtZXRob2QsIHVybCkge1xyXG4gICAgXHJcbiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICBpZiAoJ3dpdGhDcmVkZW50aWFscycgaW4geGhyKSB7XHJcbiAgICBcclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdCBoYXMgYSBcIndpdGhDcmVkZW50aWFsc1wiIHByb3BlcnR5LlxyXG4gICAgICAvLyBcIndpdGhDcmVkZW50aWFsc1wiIG9ubHkgZXhpc3RzIG9uIFhNTEhUVFBSZXF1ZXN0MiBvYmplY3RzLlxyXG4gICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XHJcbiAgICBcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICBcclxuICAgICAgLy8gT3RoZXJ3aXNlLCBjaGVjayBpZiBYRG9tYWluUmVxdWVzdC5cclxuICAgICAgLy8gWERvbWFpblJlcXVlc3Qgb25seSBleGlzdHMgaW4gSUUsIGFuZCBpcyBJRSdzIHdheSBvZiBtYWtpbmcgQ09SUyByZXF1ZXN0cy5cclxuICAgICAgeGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XHJcbiAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsKTtcclxuICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgIFxyXG4gICAgICAvLyBPdGhlcndpc2UsIENPUlMgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci5cclxuICAgICAgeGhyID0gbnVsbDtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2coeGhyKTtcclxuICAgIHJldHVybiB4aHI7XHJcbiAgICBcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgZmV0Y2goKSB7XHJcblxyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgXHJcbiAgICBsZXQgdXJsID0gJ2ltYWdlcy5qc29uJztcclxuICAgIFxyXG4gICAgbGV0IHhociA9IHNlbGYuY3JlYXRlQ09SU1JlcXVlc3QoJ0dFVCcsIHVybCk7XHJcbiAgICBcclxuICAgIGlmICgheGhyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ09SUyBub3Qgc3VwcG9ydGVkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFJlc3BvbnNlIGhhbmRsZXJzLlxyXG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBsZXQgcmVzcG9uc2VUZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcclxuICAgIFxyXG4gICAgICBzZWxmLmhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgIH07XHJcbiAgICBcclxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICBcclxuICAgICAgdGhyb3cgbmV3IEVycm9yICgnV29vcHMsIHRoZXJlIHdhcyBhbiBlcnJvciBtYWtpbmcgdGhlIHJlcXVlc3QuJyk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB4aHIuc2VuZCgpO1xyXG4gICAgXHJcbiAgfVxyXG4gICAgXHJcbiAgaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpIHtcclxuICAgICAgXHJcbiAgICB0aGlzLnBhcnNlZFJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICBcclxuICAgIHRoaXMuaW5pdGlhdGVEYXRhKCk7XHJcblxyXG4gIH1cclxuICAgIFxyXG5cclxuICBpbml0aWF0ZURhdGEoc2Vjb25kYXJ5KSB7XHJcbiAgICBcclxuICAgIGxldCBzdGF0dXM9IHNlY29uZGFyeSB8fCBmYWxzZTtcclxuXHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICBcclxuICAgIGlmIChzdGF0dXMpIHtcclxuICAgIFxyXG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpID0+IHtcclxuICAgXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBzZWxmLnRvZ2dsZUxvYWRlcihmYWxzZSk7XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICByZXNvbHZlKCk7XHJcblxyXG4gICAgICB9KSBcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBzZWxmLnNsaWNlRGF0YU9uUG9ydGlvbnMoc3RhdHVzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHNlbGYuc2hvd0RhdGEodHJ1ZSk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnMicpO1xyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHNlbGYudG9nZ2xlTG9hZGVyKGZhbHNlKTtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCczJyk7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChyZWplY3QpID0+IHtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkYScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIFxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgc2VsZi50b2dnbGVMb2FkZXIodHJ1ZSk7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJzEnKTtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgbGV0IGl0ZW1zID0gc2VsZi5wYXJzZWRSZXNwb25zZTtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGl0ZW1zKTtcclxuICAgICAgICAgIGxldCBsaW1pdHRlZEFycmF5ID0gaXRlbXMuc2xpY2UoMCwgdGhpcy5kYXRhQW1vdW50KTtcclxuXHJcbiAgICAgICAgICBsaW1pdHRlZEFycmF5Lm1hcChmdW5jdGlvbihlbCkge1xyXG5cclxuICAgICAgICAgICAgc2VsZi5kYXRhLnB1c2goZWwpO1xyXG5cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJzInKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHNlbGYuc2xpY2VEYXRhT25Qb3J0aW9ucygpO1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJzMnKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuXHJcbiAgICAgICAgICBzZWxmLnNob3dEYXRhKCk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnNCcpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbiBcclxuIFxyXG4gIH1cclxuICBcclxuICBzbGljZURhdGFPblBvcnRpb25zKHNlY29uZGFyeSkge1xyXG5cclxuXHJcbiAgICBsZXQgc3RhdHVzPXNlY29uZGFyeSB8fCBmYWxzZTtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIGxldCBpdGVtcyA9IHNlbGYuZGF0YTtcclxuXHJcbiAgICBsZXQgc3RlcCA9IHRoaXMuZGF0YVNldC5zdGVwO1xyXG4gICAgbGV0IHN0YXJ0PXRoaXMuZGF0YVNldC5zdGFydDtcclxuICAgIGxldCBlbmQ9dGhpcy5kYXRhU2V0LmVuZDtcclxuXHJcbiAgICBlbmQ9c3RhcnQrc3RlcDtcclxuICAgIFxyXG4gICAgc2VsZi5kYXRhU2V0LnRvdGFsTGVuZ3RoPWVuZDtcclxuICAgXHJcbiAgICAvLyBjb25zb2xlLmxvZyhzZWxmLmRhdGFTZXQudG90YWxMZW5ndGgpO1xyXG5cclxuICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coc3RhcnQsaXRlbXMubGVuZ3RoLHN0ZXApO1xyXG5cclxuICAgICAgaWYgKHN0YXJ0IDwgaXRlbXMubGVuZ3RoIC0gc3RlcCkge1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtcy5sZW5ndGgpO1xyXG5cclxuICAgICAgICBzdGFydCs9IHN0ZXA7XHJcbiAgICAgICAgZW5kID0gc3RhcnQgKyBzdGVwO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGFydCwgZW5kKTtcclxuXHJcbiAgICAgICAgbGV0IHBvcnRpb25BcnJheSA9IGl0ZW1zLnNsaWNlKHN0YXJ0LCBlbmQpO1xyXG5cclxuICAgICAgICBzZWxmLnBvcnRpb25PZkRhdGEubGVuZ3RoPTA7XHJcblxyXG4gICAgICAgIHBvcnRpb25BcnJheS5tYXAoZnVuY3Rpb24oZWwpIHsgIFxyXG5cclxuICAgICAgICAgIHNlbGYucG9ydGlvbk9mRGF0YS5wdXNoKGVsKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAgIHRoaXMuZGF0YVNldC5zdGFydD1zdGFydDtcclxuICAgICAgICB0aGlzLmRhdGFTZXQuZW5kPWVuZDtcclxuXHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICBzZWxmLnBvcnRpb25PZkRhdGEubGVuZ3RoID0gMDtcclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgbGV0IHBvcnRpb25BcnJheSA9IGl0ZW1zLnNsaWNlKHN0YXJ0LCBlbmQpO1xyXG5cclxuICAgICAgcG9ydGlvbkFycmF5Lm1hcChmdW5jdGlvbihlbCkge1xyXG5cclxuICAgICAgICBzZWxmLnBvcnRpb25PZkRhdGEucHVzaChlbCk7XHJcblxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICB9XHJcblxyXG5cclxuICB9XHJcblxyXG4gIHNob3dEYXRhKHNlY29uZGFyeSkge1xyXG5cclxuXHJcbiAgICBsZXQgc3RhdHVzID0gc2Vjb25kYXJ5IHx8IGZhbHNlO1xyXG5cclxuXHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG5cclxuXHJcbiAgICBsZXQgZ2FsbGVyeUNvbnRhaW5lciA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLmdhbGxlcnlXcmFwcGVyKSk7XHJcblxyXG4gICAgZ2FsbGVyeUNvbnRhaW5lci5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XHJcblxyXG5cclxuICAgICAgc2VsZi5maWxsR2FsbGVyeShlbCwgc3RhdHVzKTtcclxuXHJcblxyXG4gICAgICBzZWxmLmFkZFRodW1icyhlbCwgc3RhdHVzKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgZmlsbEdhbGxlcnkoZ2FsbGVyeUNvbnRhaW5lciwgc2Vjb25kYXJ5KSB7XHJcbiAgICAgIFxyXG4gICAgbGV0IHN0YXR1cz1zZWNvbmRhcnkgfHwgZmFsc2U7XHJcbiAgICBsZXQgc2VsZj10aGlzO1xyXG4gICAgbGV0IGl0ZW1zID0gc2VsZi5wb3J0aW9uT2ZEYXRhO1xyXG4gICAgbGV0IGNvbnRhaW5lciA9IGdhbGxlcnlDb250YWluZXI7XHJcbiAgICAgICBcclxuICAgICAgXHJcbiAgICBpZiAoIXN0YXR1cykge1xyXG4gICAgICAgICAgIFxyXG4gICAgICBsZXQgaXRlbXNBbW91bnQgPSBzZWxmLmRhdGFTZXQudG90YWxMZW5ndGg7ICAgXHJcbiAgICAgIGxldCBnYWxsZXJ5TWluSGVpZ2h0ID0gY29udGFpbmVyLm9mZnNldEhlaWdodDtcclxuICAgICAgbGV0IHRodW1ibmFpbHNIZWlnaHQ9dGhpcy50aHVtYm5haWxzLmhlaWdodDtcclxuICAgICAgLy8gY29uc29sZS5sb2coc2VsZi5kYXRhU2V0LnRvdGFsTGVuZ3RoKTtcclxuICAgICAgXHJcbiAgICAgIGxldCBnYWxsZXJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIFxyXG4gICAgICBnYWxsZXJ5LmNsYXNzTGlzdC5hZGQoJ2dhbGxlcnknLCAnanMtZ2FsbGVyeScpO1xyXG5cclxuICAgIFxyXG4gICAgICBsZXQgZ2FsbGVyeUhlaWdodD0gZ2FsbGVyeU1pbkhlaWdodCAtIHRodW1ibmFpbHNIZWlnaHQ7XHJcbiAgICAgIGdhbGxlcnkuc3R5bGUubWluSGVpZ2h0ID0gKGdhbGxlcnlIZWlnaHQpICsgJ3B4JztcclxuICAgIFxyXG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZ2FsbGVyeSk7XHJcbiAgICAgIFxyXG5cclxuXHJcbiAgICAgIGxldCBnYWxsZXJ5V2lkdGg9Z2FsbGVyeS5vZmZzZXRXaWR0aDtcclxuICAgIFxyXG4gICAgICBzZWxmLmdhbGxlcnkud2lkdGggPSBnYWxsZXJ5V2lkdGg7XHJcbiAgXHJcbiAgICAgIGxldCBnYWxsZXJ5TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICAgIFxyXG4gICAgICBnYWxsZXJ5TGlzdC5jbGFzc0xpc3QuYWRkKCdnYWxsZXJ5X19saXN0JywgJ2pzLWdhbGxlcnktbGlzdCcpO1xyXG4gICAgICBnYWxsZXJ5TGlzdC5zdHlsZS5taW5IZWlnaHQgPSAoZ2FsbGVyeUhlaWdodCkgKyAncHgnO1xyXG4gICAgICBcclxuICAgICAgc2VsZi5nYWxsZXJ5TGlzdD1nYWxsZXJ5TGlzdDtcclxuICAgICAgXHJcbiAgICAgIFxyXG5cclxuICAgICAgc2VsZi50aHVtYm5haWxzLndpZHRoID0gc2VsZi50aHVtYm5haWxzLml0ZW1XaWR0aCAqIChzZWxmLmRhdGFTZXQudG90YWxMZW5ndGggKyAxKTtcclxuXHJcbiAgICAgIFxyXG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICAgIHNlbGYuYWRkSXRlbXNUb0dhbGxlcnkoc2VsZi5nYWxsZXJ5TGlzdCwgaXRlbXMpO1xyXG5cclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgc2VsZi5zaG93Rmlyc3RJdGVtcyhnYWxsZXJ5TGlzdCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBnYWxsZXJ5LmFwcGVuZENoaWxkKGdhbGxlcnlMaXN0KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHNlbGYuYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgc2VsZi5uYXZpZ2F0aW9uKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICBzZWxmLnRodW1ibmFpbHMud2lkdGggPSBzZWxmLnRodW1ibmFpbHMuaXRlbVdpZHRoICogKHNlbGYuZGF0YVNldC50b3RhbExlbmd0aCArIDEpO1xyXG5cclxuXHJcbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgc2VsZi5hZGRJdGVtc1RvR2FsbGVyeShzZWxmLmdhbGxlcnlMaXN0LCBpdGVtcyk7XHJcblxyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBzZWxmLmJpbmRFdmVudHMoKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKHNlbGYuZ2FsbGVyeUxpc3QpO1xyXG4gICAgICBcclxuICBcclxuICAgICAgXHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgcmV0dXJuIHRydWU7XHJcblxyXG4gIH1cclxuXHJcblxyXG5cclxuICBcclxuICBhZGRJdGVtc1RvR2FsbGVyeShsaXN0LCBpdGVtcykge1xyXG4gICAgXHJcbiAgICBsZXQgc2VsZj10aGlzO1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKGxpc3QpO1xyXG4gICAgXHJcbiAgICBsZXQgZ2FsbGVyeUxpc3QgPSBsaXN0O1xyXG4gICAgbGV0IGRhdGEgPSBpdGVtcztcclxuICAgIGxldCBkYXRhTGVuZ3RoID0gZGF0YS5sZW5ndGg7XHJcbiAgICBsZXQgZ2FsbGVyeU1heFdpZHRoID0gdGhpcy5nYWxsZXJ5LndpZHRoO1xyXG4gICBcclxuICAgIHNlbGYuZGF0YVNldC50b3RhbExlbmd0aCs9ZGF0YS5sZW5ndGg7XHJcbiAgICBcclxuICAgIC8vIGNvbnNvbGUubG9nKHNlbGYuZGF0YVNldC50b3RhbExlbmd0aCk7XHJcbiAgICBcclxuXHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGRhdGFMZW5ndGg7IGorKykge1xyXG4gICAgXHJcbiAgICAgIGxldCBnYWxsZXJ5SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgIGdhbGxlcnlJdGVtLmNsYXNzTGlzdC5hZGQoJ2dhbGxlcnlfX2l0ZW0nLCBzZWxmLmdhbGxlcnlJdGVtU2VsZWN0b3IpO1xyXG4gICAgXHJcbiAgICAgIGxldCBnYWxsZXJ5SXRlbUlEID0gJ3NsaWRlJyArIGRhdGFbal0uaWQ7XHJcbiAgICAgIGdhbGxlcnlJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBnYWxsZXJ5SXRlbUlEKTtcclxuICAgIFxyXG4gICAgICBnYWxsZXJ5SXRlbS5zdHlsZS5tYXhXaWR0aCA9IGdhbGxlcnlNYXhXaWR0aCArICdweCc7XHJcbiAgICBcclxuICAgICAgZ2FsbGVyeUl0ZW0uaW5uZXJIVE1MID0gJzxpbWcgc3JjPVwiJyArIGRhdGFbal0udXJsICsgJ1wiIGNsYXNzPVwiZ2FsbGVyeV9faW1nXCI+ICc7XHJcbiAgICBcclxuICAgICAgZ2FsbGVyeUxpc3QuYXBwZW5kQ2hpbGQoZ2FsbGVyeUl0ZW0pO1xyXG4gICAgXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNsaWRlc05vZGVMaXN0ID0gbGlzdC5jaGlsZE5vZGVzO1xyXG4gICAgXHJcbiAgICAvLyBjb25zb2xlLmxvZyhzbGlkZXNOb2RlTGlzdCk7XHJcbiAgICBcclxuICAgIGxldCBzbGlkZXMgPSBbXS5zbGljZS5jYWxsKHNsaWRlc05vZGVMaXN0KTtcclxuICAgIFxyXG4gICAgLy8gY29uc29sZS5sb2coc2xpZGVzKTtcclxuICAgIFxyXG4gICAgc2VsZi5nYWxsZXJ5Lml0ZW1zPXNsaWRlcztcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhzZWxmLmdhbGxlcnkudG90YWwubGVuZ3RoLCBzZWxmLmRhdGFBbW91bnQpO1xyXG5cclxuICAgIGlmIChzZWxmLmdhbGxlcnkudG90YWwubGVuZ3RoIDwgc2VsZi5kYXRhQW1vdW50KSB7XHJcblxyXG4gICAgICBzZWxmLmdhbGxlcnkudG90YWwgPSBzZWxmLmdhbGxlcnkuaXRlbXMubWFwKGVsID0+IHtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG5cclxuICAgICAgfSk7XHJcbiAgICAgXHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gIH1cclxuXHJcbiAgYmluZEV2ZW50cygpIHtcclxuXHJcbiAgICB0aGlzLmZ1bGxQYWdlTW9kZSgpO1xyXG5cclxuICB9XHJcblxyXG5cclxuICBmdWxsUGFnZU1vZGUoKSB7XHJcblxyXG4gICAgbGV0IHNlbGY9dGhpcztcclxuICAgIHNlbGYuY3JlYXRlUG9QVXAoKTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgXHJcbiAgY3JlYXRlUG9QVXAoKSB7XHJcblxyXG4gICAgbGV0IHNlbGY9dGhpcztcclxuXHJcbiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwnKTtcclxuXHJcbiAgICBpZiAobW9kYWwubGVuZ3RoIDwgMikge1xyXG5cclxuICAgICAgbGV0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcblxyXG4gICAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtb2RhbCcsICdtb2RhbF9fZnAnKTtcclxuXHJcbiAgICAgIGxldCBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBpbm5lci5jbGFzc0xpc3QuYWRkKCdtb2RhbF9faW5uZXInKTtcclxuXHJcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbm5lcik7XHJcblxyXG4gICAgICBsZXQgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ21vZGFsX19jb250ZW50Jyk7XHJcbiAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwibW9kYWxfX2Nsb3NlQnRuXCIgPjwvc3Bhbj4nK1xyXG4gICAgICAgJzxpbWcgY2xhc3M9XCJtb2RhbF9faW1nXCIgc3JjPVwiXCI+JztcclxuXHJcbiAgICAgIHNlbGYuY2xpY2tFdmVudENsb3NlUG9wVXAoY29udGVudCk7XHJcblxyXG4gICAgICBpbm5lci5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuXHJcbiAgICAgIHNlbGYucG9wdXAuY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgIHNlbGYucG9wdXAud3JhcCA9IGNvbnRhaW5lcjtcclxuXHJcbiAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICBcclxuICAgIH07XHJcblxyXG4gICAgXHJcbiAgICBzZWxmLmdldEltZ1NyYygpO1xyXG5cclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgZ2V0SW1nU3JjKCkge1xyXG5cclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICBsZXQgcG9wdXAgPSBzZWxmLnBvcHVwO1xyXG4gICAgbGV0IGxpc3QgPSBzZWxmLmdhbGxlcnlMaXN0IDtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhsaXN0KTtcclxuXHJcbiAgICBsZXQgY3VycmVudCA9IFtdLnNsaWNlLmNhbGwobGlzdC5jaGlsZHJlbikuZmlsdGVyKCBmdW5jdGlvbihlbCkge1xyXG5cclxuICAgICAgaWYoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHNlbGYuZ2FsbGVyeUl0ZW1TZWxlY3RvcikgKSByZXR1cm4gZWw7XHJcblxyXG4gICAgfSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhjdXJyZW50KTtcclxuXHJcblxyXG4gICAgY3VycmVudC5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XHJcblxyXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGVsKTtcclxuICAgICAgICBsZXQgYyA9IFtdLnNsaWNlLmNhbGwoZWwuY2hpbGRyZW4pLmZpbmQoZnVuY3Rpb24oZSkge1xyXG5cclxuICAgICAgICAgIGxldCByID0gZS5oYXNBdHRyaWJ1dGUoJ3NyYycpID8gZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgIHJldHVybiByO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcG9wdXAuaW1nU3JjID0gYy5nZXRBdHRyaWJ1dGUoJ3NyYycpOyAgICBcclxuICAgICAgICBzZWxmLnNob3dGdWxsUGFnZUltZyhwb3B1cCk7XHJcbiAgICAgICAgIFxyXG4gICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuICAgIFxyXG4gIH1cclxuXHJcblxyXG5cclxuICBzaG93RnVsbFBhZ2VJbWcoY29uKSB7XHJcbiBcclxuICAgIGxldCBpbWdTcmM9Y29uLmltZ1NyYztcclxuICAgIGxldCB3cmFwPWNvbi53cmFwO1xyXG4gICAgbGV0IGNvbnRlbnQ9Y29uLmNvbnRlbnQ7XHJcbiAgICBsZXQgYm9keT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcblxyXG4gICAgbGV0IGltZyA9IFtdLnNsaWNlLmNhbGwoY29udGVudC5jaGlsZHJlbikuZmluZChmdW5jdGlvbihlbCkge1xyXG5cclxuICAgICAgaWYgKCBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsX19pbWcnKSkgcmV0dXJuIGVsO1xyXG5cclxuICAgIH0pO1xyXG4gICBcclxuICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGltZ1NyYyk7XHJcbiAgICB3cmFwLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xyXG4gICAgYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyLWhpZCcpO1xyXG5cclxuICB9XHJcblxyXG5cclxuICBjbGlja0V2ZW50Q2xvc2VQb3BVcChjb24pIHtcclxuXHJcbiAgICBsZXQgY29udGVudCA9IGNvbjtcclxuICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5cclxuICAgIGxldCBjbG9zZSA9IFtdLnNsaWNlLmNhbGwoY29udGVudC5jaGlsZHJlbikuZmluZChmdW5jdGlvbihlbCkge1xyXG5cclxuICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnbW9kYWxfX2Nsb3NlQnRuJykpIHJldHVybiBlbDtcclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmUpIHtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGV2ZS5jdXJyZW50VGFyZ2V0LCBldmUuZGV0YWlsKTtcclxuXHJcbiAgICAgIGV2ZS5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xyXG5cclxuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyLWhpZCcpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgfSBcclxuXHJcblxyXG4gIHNob3dGaXJzdEl0ZW1zKGxpc3QpIHtcclxuXHJcbiAgICBsZXQgc2VsZj10aGlzO1xyXG5cclxuICAgIGxldCBzbGlkZXM9c2VsZi5nYWxsZXJ5Lml0ZW1zO1xyXG5cclxuICAgIGxldCBmaXJzdFNsaWRlcyA9IHNsaWRlcy5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcclxuXHJcbiAgICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoJ2lkJykgPT09ICdzbGlkZTEnKSByZXR1cm4gZWw7XHJcbiAgICAgIFxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZpcnN0U2xpZGVzLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcclxuXHJcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2lzLXZpc2libGUnKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG4gXHJcblxyXG4gIG5hdmlnYXRpb24oZ2FsbGVyeUNvbnRhaW5lcikge1xyXG5cclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIGxldCB0aGlzR2FsbGVyeVdyYXBwZXIgPSBnYWxsZXJ5Q29udGFpbmVyO1xyXG4gICAgbGV0IHByZXZCdG4sIG5leHRCdG47ICAgXHJcbiAgICBsZXQgdGhpc0dhbGxlcnlDaGlsZHJlbiA9IFtdLnNsaWNlLmNhbGwodGhpc0dhbGxlcnlXcmFwcGVyLmNoaWxkcmVuKTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZiAoKCFzZWxmLmdhbGxlcnkucHJldkJ0blNlbGVjdG9yKSAmJiAoIXNlbGYuZ2FsbGVyeS5uZXh0QnRuU2VsZWN0b3IpKSB7XHJcblxyXG4gICAgICBwcmV2QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHByZXZCdG4uY2xhc3NMaXN0LmFkZCgnY29udHJvbC1idG4nLCAnY29udHJvbC1idG5fX2xlZnQnLCAnanMtZ2FsbGVyeS1wcmV2Jyk7XHJcbiAgICAgIHByZXZCdG4uaW5uZXJIVE1MID0gJzxidXR0b24gY2xhc3M9XCJpY29uLWJ0biBpY29uLWJ0bl9sZWZ0XCI+PC9idXR0b24+JztcclxuICAgIFxyXG4gICAgXHJcbiAgICAgIG5leHRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgbmV4dEJ0bi5jbGFzc0xpc3QuYWRkKCdjb250cm9sLWJ0bicsICdjb250cm9sLWJ0bl9fcmlnaHQnLCAnanMtZ2FsbGVyeS1uZXh0Jyk7ICAgIFxyXG4gICAgICBuZXh0QnRuLmlubmVySFRNTCA9ICc8YnV0dG9uIGNsYXNzPVwiaWNvbi1idG4gaWNvbi1idG5fcmlnaHRcIj48L2J1dHRvbj4nO1xyXG4gICAgXHJcbiAgICAgIHRoaXNHYWxsZXJ5V3JhcHBlci5jbGFzc0xpc3QuYWRkKCdhZGQtY29udHJvbGxlcnMnKTtcclxuICAgICAgdGhpc0dhbGxlcnlXcmFwcGVyLmFwcGVuZENoaWxkKHByZXZCdG4pO1xyXG4gICAgICB0aGlzR2FsbGVyeVdyYXBwZXIuYXBwZW5kQ2hpbGQobmV4dEJ0bik7XHJcbiAgICBcclxuICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgIFxyXG4gICAgICBuZXh0QnRuID0gdGhpc0dhbGxlcnlDaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcclxuICAgIFxyXG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoc2VsZi5nYWxsZXJ5Lm5leHRCdG5TZWxlY3RvcikpIHsgcmV0dXJuIGVsOyB9XHJcbiAgICBcclxuICAgICAgfSk7XHJcbiAgICBcclxuICAgICAgcHJldkJ0biA9IHRoaXNHYWxsZXJ5Q2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XHJcbiAgICBcclxuICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHNlbGYuZ2FsbGVyeS5wcmV2QnRuU2VsZWN0b3IpKSB7IHJldHVybiBlbDsgfVxyXG4gICAgXHJcbiAgICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIHNlbGYuZ2FsbGVyeS5wcmV2QnRuTm9kZT1wcmV2QnRuO1xyXG4gICAgc2VsZi5nYWxsZXJ5Lm5leHRCdG5Ob2RlPW5leHRCdG47XHJcbiAgICBcclxuICAgIHRoaXMubmV4dFNsaWRlKCk7XHJcbiAgICB0aGlzLnByZXZTbGlkZSgpO1xyXG4gICBcclxuICB9XHJcblxyXG5cclxuICBuZXh0U2xpZGUoKSB7XHJcblxyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgbGV0IG5leHRTbGlkZUJ0biA9IHNlbGYuZ2FsbGVyeS5uZXh0QnRuTm9kZTtcclxuXHJcbiAgICBuZXh0U2xpZGVCdG4uZm9yRWFjaChmdW5jdGlvbihlKSB7XHJcblxyXG4gICAgICBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiBcclxuICAgICAgICBsZXQgc2xpZGVzID0gc2VsZi5nYWxsZXJ5Lml0ZW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIGxldCBjdXJyZW50SW5kZXggPSBzbGlkZXMuZmluZEluZGV4KGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLXZpc2libGUnKSkgeyByZXR1cm4gZWw7IH1cclxuICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgc2VsZi5jdXJyZW50SW5kZXggPSBjdXJyZW50SW5kZXg7XHJcblxyXG4gICAgICAgIHNlbGYuc2Vjb25kYXJ5TG9hZCgpO1xyXG5cclxuICAgICAgICBzbGlkZXNbc2VsZi5jdXJyZW50SW5kZXhdLmNsYXNzTGlzdC50b2dnbGUoJ2lzLXZpc2libGUnKTtcclxuXHJcbiAgICAgICAgc2VsZi5jdXJyZW50SW5kZXggPSAoc2VsZi5jdXJyZW50SW5kZXggKyAxKSAlIHNsaWRlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHNsaWRlc1tzZWxmLmN1cnJlbnRJbmRleF0uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtdmlzaWJsZScpO1xyXG5cclxuICAgICAgICBzZWxmLmNoYW5nZVRodW1ibmFpbHMoKTtcclxuICAgICAgXHJcbiAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByZXZTbGlkZSgpIHtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIGxldCBwcmV2U2xpZGVCdG4gPSBzZWxmLmdhbGxlcnkucHJldkJ0bk5vZGU7XHJcblxyXG5cclxuICAgIHByZXZTbGlkZUJ0bi5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XHJcblxyXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gIFxyXG4gICAgICAgIGxldCBzbGlkZXMgPSBzZWxmLmdhbGxlcnkudG90YWw7XHJcblxyXG4gICAgICAgIGxldCBsYXN0U2xpZGUgPSBzbGlkZXMubGVuZ3RoIC0gMTtcclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IHNsaWRlcy5maW5kSW5kZXgoZnVuY3Rpb24oZWwpIHtcclxuXHJcbiAgICAgICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy12aXNpYmxlJykpIHsgcmV0dXJuIGVsOyB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzZWxmLmN1cnJlbnRJbmRleCA9IGN1cnJlbnRJbmRleDtcclxuXHJcbiAgICAgICAgc2xpZGVzW3NlbGYuY3VycmVudEluZGV4XS5jbGFzc0xpc3QudG9nZ2xlKCdpcy12aXNpYmxlJyk7XHJcblxyXG4gICAgICAgIGlmIChzZWxmLmN1cnJlbnRJbmRleCA8PSAwKSB7XHJcblxyXG4gICAgICAgICAgc2VsZi5jdXJyZW50SW5kZXggPSBsYXN0U2xpZGU7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoKHNlbGYuY3VycmVudEluZGV4ID4gMCkgJiYgKHNlbGYuY3VycmVudEluZGV4IDw9IGxhc3RTbGlkZSkpIHtcclxuXHJcbiAgICAgICAgICBzZWxmLmN1cnJlbnRJbmRleC0tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2xpZGVzW3NlbGYuY3VycmVudEluZGV4XS5jbGFzc0xpc3QudG9nZ2xlKCdpcy12aXNpYmxlJyk7XHJcblxyXG4gICAgICAgIHNlbGYuY2hhbmdlVGh1bWJuYWlscygpO1xyXG5cclxuICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcbiAgfVxyXG5cclxuXHJcbiAgYWRkVGh1bWJzKGdhbGxlcnlDb250YWluZXIsIHNlY29uZGFyeSkge1xyXG4gICAgXHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICBsZXQgc3RhdHVzPXNlY29uZGFyeSB8fCBmYWxzZTtcclxuICAgIGxldCBkYXRhID0gc2VsZi5wb3J0aW9uT2ZEYXRhO1xyXG4gICAgbGV0IGNvbnRhaW5lciA9IGdhbGxlcnlDb250YWluZXI7XHJcbiAgICAgXHJcbiAgICBzZWxmLnRodW1ibmFpbHMudXJsID0gZGF0YS5tYXAoZnVuY3Rpb24oZWwpIHtcclxuICAgIFxyXG4gICAgICByZXR1cm4gZWwudGh1bWJuYWlsVXJsO1xyXG4gICAgXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXN0YXR1cykge1xyXG4gICAgXHJcbiAgICAgIGxldCB0aHVtYnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgICAgICAgICBcclxuICAgICAgdGh1bWJzLnN0eWxlLm1pbkhlaWdodCA9IHNlbGYudGh1bWJzSGVpZ2h0ICsgJ3B4JztcclxuICAgICAgdGh1bWJzLmNsYXNzTGlzdC5hZGQoJ2ctdGh1bWJuYWlscycpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgbGV0IHRodW1ic0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gICAgICBsZXQgdGh1bWJzTGlzdFdpZHRoID0gKHNlbGYudGh1bWJuYWlscy53aWR0aCk7XHJcbiAgICAgIHRodW1ic0xpc3Quc3R5bGUud2lkdGggPSB0aHVtYnNMaXN0V2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgXHJcbiAgICAgIGxldCB0aHVtYnNMaXN0SGVpZ2h0ID0gIHNlbGYudGh1bWJzTGlzdEhlaWdodDtcclxuICAgICAgdGh1bWJzTGlzdC5zdHlsZS5oZWlnaHQgPSB0aHVtYnNMaXN0SGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICAgIFxyXG4gICAgICB0aHVtYnNMaXN0LmNsYXNzTGlzdC5hZGQoJ2ctdGh1bWJuYWlsc19fbGlzdCcpO1xyXG4gICAgICAgICAgXHJcbiAgICAgIHNlbGYudGh1bWJuYWlscy5saXN0PXRodW1ic0xpc3Q7XHJcbiAgICAgICAgICBcclxuICAgICAgdGhpcy5hZGRUaHVtYnNJdGVtKCApO1xyXG4gICAgXHJcbiAgICAgIHRodW1icy5hcHBlbmRDaGlsZCh0aHVtYnNMaXN0KTtcclxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRodW1icyk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgICB0aGlzLm1vdmVUaHVtYm5haWxzKCk7ICAgICAgXHJcbiAgICAgIHRoaXMudG9nZ2xlVGh1bWJzKCk7XHJcbiAgICAgICBcclxuICAgIFxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIGxldCB0aHVtYnNMaXN0V2lkdGggPSAoc2VsZi50aHVtYm5haWxzLndpZHRoKTtcclxuICAgICAgc2VsZi50aHVtYm5haWxzLmxpc3Quc3R5bGUud2lkdGggPSB0aHVtYnNMaXN0V2lkdGggKyAncHgnO1xyXG4gICAgXHJcbiAgICAgIHRoaXMuYWRkVGh1bWJzSXRlbSgpO1xyXG4gICAgICAgICAgXHJcbiAgICAgIHRoaXMubW92ZVRodW1ibmFpbHMoKTtcclxuICAgICAgICAgIFxyXG4gICAgICB0aGlzLnRvZ2dsZVRodW1icygpO1xyXG4gICAgXHJcbiAgICB9XHJcblxyXG4gICAgICAgXHJcbiAgfVxyXG4gICAgXHJcblxyXG4gIGFkZFRodW1ic0l0ZW0oKSB7XHJcbiAgICBcclxuICAgIGxldCBzZWxmPXRoaXM7XHJcbiAgICBsZXQgdGh1bWJzPXNlbGYudGh1bWJuYWlscy51cmw7XHJcbiAgICBsZXQgZGF0YT1zZWxmLnBvcnRpb25PZkRhdGE7XHJcbiAgICBsZXQgdGh1bWJzTGlzdD1zZWxmLnRodW1ibmFpbHMubGlzdDtcclxuICAgIGxldCB0aHVtYnNJdGVtV2lkdGg9dGhpcy50aHVtYm5haWxzLml0ZW1XaWR0aDtcclxuICAgIGxldCB0aHVtYnNIZWlnaHQ9c2VsZi50aHVtYm5haWxzLmxpc3RIZWlnaHQ7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2codGh1bWJzLCBkYXRhLCB0aHVtYnNIZWlnaHQpOyAgXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIFxyXG4gICAgICBsZXQgdGh1bWJzSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgICBcclxuICAgICAgdGh1bWJzSXRlbS5zdHlsZS53aWR0aCA9IHRodW1ic0l0ZW1XaWR0aCArICdweCc7XHJcbiAgICAgIHRodW1ic0l0ZW0uc3R5bGUuaGVpZ2h0ID0gdGh1bWJzSGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICAgICAgXHJcbiAgICAgIHRodW1ic0l0ZW0uY2xhc3NMaXN0LmFkZCgnZy10aHVtYm5haWxzX19pdGVtJyk7XHJcbiAgICAgICAgICBcclxuICAgICAgbGV0IGVxdWFsaXplcj1kYXRhW2ldLmlkLTE7XHJcblxyXG4gICAgICBsZXQgdGh1bWJzSXRlbVdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgdGh1bWJzSXRlbVdyYXAuc2V0QXR0cmlidXRlKCdkYXRhLXRodW1iJywgZXF1YWxpemVyKTtcclxuICAgICAgdGh1bWJzSXRlbVdyYXAuY2xhc3NMaXN0LmFkZCgnZy10aHVtYm5haWxzX19pdGVtLXdyYXAnLCAnanMtdGh1bWItc2xpZGUnKTtcclxuICAgICAgICAgIFxyXG4gICAgICBzZWxmLnRodW1ibmFpbHMudHJpZ2dlcnMucHVzaCh0aHVtYnNJdGVtV3JhcCk7XHJcbiAgICAgICAgICBcclxuICAgICAgdGh1bWJzSXRlbVdyYXAuaW5uZXJIVE1MID0gJzxpbWcgc3JjPVwiJyArIHRodW1ic1tpXSArICdcIiBjbGFzcz1cImctdGh1bWJuYWlsc19faW1nXCInICtcclxuICAgICAgICAgICAgICAgICAgJyBzdHlsZT1cIm1heC13aWR0aDogMTAwJTtcIj4nO1xyXG4gICAgICAgICAgXHJcbiAgICAgIHRodW1ic0l0ZW0uYXBwZW5kQ2hpbGQodGh1bWJzSXRlbVdyYXApO1xyXG4gICAgICAgICAgXHJcbiAgICAgIHRodW1ic0xpc3QuYXBwZW5kQ2hpbGQodGh1bWJzSXRlbSk7XHJcbiAgICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlVGh1bWJzKCkge1xyXG4gICAgICBcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIFxyXG4gICAgbGV0IHRodW1iVHJpZ2dlciA9IHNlbGYudGh1bWJuYWlscy50cmlnZ2VycztcclxuICAgIFxyXG4gICAgdGh1bWJUcmlnZ2VyLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcclxuICAgIFxyXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICBcclxuICAgICAgICBsZXQgdHJpZ2dlclNpYmxpbmdTbGlkZXMgPSBlbC5jbG9zZXN0KCcuZy10aHVtYm5haWxzJykucHJldmlvdXNTaWJsaW5nLmNoaWxkTm9kZXM7XHJcbiAgICAgICAgbGV0IHNsaWRlcyA9IFtdLnNsaWNlLmNhbGwodHJpZ2dlclNpYmxpbmdTbGlkZXNbMF0uY2hpbGROb2Rlcyk7XHJcblxyXG4gICAgICAgIGxldCBpbmRleFRvVHJpZ2dlciA9ICtldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS10aHVtYicpO1xyXG4gICBcclxuICAgICAgICBzbGlkZXNbc2VsZi5jdXJyZW50SW5kZXhdLmNsYXNzTGlzdC50b2dnbGUoJ2lzLXZpc2libGUnKTtcclxuICAgIFxyXG4gICAgICAgIHNlbGYuY3VycmVudEluZGV4ID0gaW5kZXhUb1RyaWdnZXI7ICAgXHJcbiAgICAgICAgc2VsZi5jaGFuZ2VUaHVtYm5haWxzKCk7XHJcbiAgICBcclxuICAgICAgICBzbGlkZXNbc2VsZi5jdXJyZW50SW5kZXhdLmNsYXNzTGlzdC50b2dnbGUoJ2lzLXZpc2libGUnKTtcclxuICAgICAgXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICB9XHJcblxyXG5cclxuICBcclxuICBjaGFuZ2VUaHVtYm5haWxzKCkge1xyXG4gICAgXHJcbiAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICBsZXQgaW5kZXg9c2VsZi5jdXJyZW50SW5kZXg7XHJcbiAgICBsZXQgdGh1bWJUcmlnZ2VyID0gc2VsZi50aHVtYm5haWxzLnRyaWdnZXJzO1xyXG4gICAgXHJcbiAgICBzZWxmLm1vdmVUaHVtYm5haWxzKCk7XHJcbiAgICAgXHJcbiAgICB0aHVtYlRyaWdnZXIuZm9yRWFjaChmdW5jdGlvbihlbCkge1xyXG4gICAgXHJcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xyXG4gICAgXHJcbiAgICAgIGxldCB0aHVtYkRhdGFBdHRyID0gK2VsLmdldEF0dHJpYnV0ZSgnZGF0YS10aHVtYicpO1xyXG5cclxuICAgIFxyXG4gICAgICBpZiAodGh1bWJEYXRhQXR0ciA9PT0gaW5kZXgpIHtcclxuICAgIFxyXG4gICAgICAgIGVsLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xyXG4gICAgICB9IFxyXG5cclxuICAgIH0pO1xyXG4gXHJcbiAgfVxyXG5cclxuXHJcbiAgbW92ZVRodW1ibmFpbHMoKSB7XHJcbiAgICBcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIGxldCBpbmRleD1zZWxmLmN1cnJlbnRJbmRleDtcclxuICAgIGxldCBsZWZ0ID0gaW5kZXggKiBzZWxmLnRodW1ibmFpbHMuaXRlbVdpZHRoICsgNTtcclxuICAgIFxyXG4gICAgbGV0IHRvdGFsV2lkdGggPSBzZWxmLnRodW1ibmFpbHMud2lkdGg7XHJcbiAgICBsZXQgdmlzaWJsZVdpZHRoID0gNjAwO1xyXG4gICAgbGV0IHN0b3BQb2ludCA9IHRvdGFsV2lkdGggLSB2aXNpYmxlV2lkdGg7XHJcbiAgICBcclxuICAgIFxyXG4gICAgaWYgKGxlZnQgPj0gc3RvcFBvaW50KSB7XHJcbiAgICBcclxuICAgICAgbGVmdCA9IHN0b3BQb2ludDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgbGV0IHBvc2l0aW9uTGVmdCA9ICdjYWxjKCAtJyArIGxlZnQgKyAncHgnICsgJyArIDE1cHgpJztcclxuICAgIFxyXG4gICAgc2VsZi50aHVtYm5haWxzLmxpc3Quc3R5bGUubGVmdCA9IHBvc2l0aW9uTGVmdDtcclxuICAgIFxyXG4gIH1cclxuXHJcblxyXG4gIHRvZ2dsZUxvYWRlcigpIHtcclxuXHJcbiAgICBsZXQgc2VsZj10aGlzO1xyXG5cclxuICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGYuZ2FsbGVyeVdyYXBwZXIpO1xyXG5cclxuXHJcbiAgICBsZXQgbG9hZGVyV3JhcHBlciA9IFtdLnNsaWNlLmNhbGwoY29udGFpbmVyLmNoaWxkcmVuKS5maW5kKGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICBcclxuICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnanMtbG9hZGVyLXdyYXBwZXInKSkgcmV0dXJuIGVsO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBsb2FkZXI9W10uc2xpY2UuY2FsbChsb2FkZXJXcmFwcGVyLmNoaWxkcmVuKS5maW5kKGZ1bmN0aW9uKGVsKSB7XHJcblxyXG4gICAgICBpZihlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2xvYWRlcicpKSByZXR1cm4gZWw7XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGxvYWRlci5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICAgIFxyXG5cclxuICB9XHJcblxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvZ2FsbGVyeS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTs7O0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUdBOzs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUdBOzs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFLQTs7O0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBOzs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTs7Ozs7O0FBejdCQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n(function (ELEMENT) {\n  ELEMENT.matches = ELEMENT.matches || ELEMENT.mozMatchesSelector || ELEMENT.msMatchesSelector || ELEMENT.oMatchesSelector || ELEMENT.webkitMatchesSelector;\n  ELEMENT.closest = ELEMENT.closest || function closest(selector) {\n    if (!this) return null;\n    if (this.matches(selector)) return this;\n    if (!this.parentElement) {\n      return null;\n    } else return this.parentElement.closest(selector);\n  };\n})(Element.prototype);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvcG9seWZpbGxzLmpzPzlkYTYiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKEVMRU1FTlQpIHtcclxuICBFTEVNRU5ULm1hdGNoZXMgPSBFTEVNRU5ULm1hdGNoZXMgfHwgRUxFTUVOVC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgRUxFTUVOVC5tc01hdGNoZXNTZWxlY3RvciB8fCBFTEVNRU5ULm9NYXRjaGVzU2VsZWN0b3IgfHwgRUxFTUVOVC53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XHJcbiAgRUxFTUVOVC5jbG9zZXN0ID0gRUxFTUVOVC5jbG9zZXN0IHx8IGZ1bmN0aW9uIGNsb3Nlc3Qoc2VsZWN0b3IpIHtcclxuICAgIGlmICghdGhpcykgcmV0dXJuIG51bGw7XHJcbiAgICBpZiAodGhpcy5tYXRjaGVzKHNlbGVjdG9yKSkgcmV0dXJuIHRoaXM7XHJcbiAgICBpZiAoIXRoaXMucGFyZW50RWxlbWVudCkge3JldHVybiBudWxsO31cclxuICAgIGVsc2UgcmV0dXJuIHRoaXMucGFyZW50RWxlbWVudC5jbG9zZXN0KHNlbGVjdG9yKTtcclxuICB9O1xyXG59KEVsZW1lbnQucHJvdG90eXBlKSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvcG9seWZpbGxzLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(1);\n\nvar _gallery = __webpack_require__(0);\n\nvar _gallery2 = _interopRequireDefault(_gallery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = {\n\n  initialize: function initialize(settings) {\n\n    var gallery = new _gallery2.default(settings);\n  }\n\n};\n\napp.initialize({\n\n  galleryAmount: '10',\n  galleryItemSelector: 'js-gallery-item',\n  prevSlide: 'js-gallery-prev1',\n  nextSlide: 'js-gallery-next1',\n  container: '.js-gallery-wrap',\n  gallery: 'js-gallery',\n\n  thumbs: true\n  // loader: true,\n  // fullScreenMode: true\n\n});\n\napp.initialize({\n\n  galleryAmount: '100',\n  galleryItemSelector: 'js-gallery-item',\n  prevSlide: 'js-gallery-prev2',\n  nextSlide: 'js-gallery-next2',\n  container: '.js-gallery-wrap2',\n  gallery: 'js-gallery',\n\n  thumbs: true\n  // loader: true,\n  // fullScreenMode: true\n\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvYXBwLmpzPzcxNmYiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCAnLi9wb2x5ZmlsbHMnO1xyXG5cclxuaW1wb3J0IEdhbGxlcnkgZnJvbSAnLi9nYWxsZXJ5JztcclxuXHJcblxyXG5cclxuXHJcblxyXG52YXIgYXBwID0ge1xyXG5cclxuICBpbml0aWFsaXplOiBmdW5jdGlvbihzZXR0aW5ncykge1xyXG5cclxuICAgIGxldCBnYWxsZXJ5ID0gbmV3IEdhbGxlcnkoc2V0dGluZ3MpO1xyXG4gICAgXHJcbiAgICAgIFxyXG4gIH0sXHJcblxyXG5cclxufTtcclxuXHJcblxyXG5hcHAuaW5pdGlhbGl6ZSh7XHJcblxyXG4gICAgXHJcbiAgZ2FsbGVyeUFtb3VudDogJzEwJyxcclxuICBnYWxsZXJ5SXRlbVNlbGVjdG9yOiAnanMtZ2FsbGVyeS1pdGVtJyxcclxuICBwcmV2U2xpZGU6ICdqcy1nYWxsZXJ5LXByZXYxJyxcclxuICBuZXh0U2xpZGU6ICdqcy1nYWxsZXJ5LW5leHQxJyxcclxuICBjb250YWluZXI6ICcuanMtZ2FsbGVyeS13cmFwJyxcclxuICBnYWxsZXJ5OiAnanMtZ2FsbGVyeScsXHJcbiBcclxuICB0aHVtYnM6IHRydWVcclxuICAvLyBsb2FkZXI6IHRydWUsXHJcbiAgLy8gZnVsbFNjcmVlbk1vZGU6IHRydWVcclxuXHJcbn0pO1xyXG5cclxuXHJcbmFwcC5pbml0aWFsaXplKHtcclxuXHJcbiAgICBcclxuICBnYWxsZXJ5QW1vdW50OiAnMTAwJyxcclxuICBnYWxsZXJ5SXRlbVNlbGVjdG9yOiAnanMtZ2FsbGVyeS1pdGVtJyxcclxuICBwcmV2U2xpZGU6ICdqcy1nYWxsZXJ5LXByZXYyJyxcclxuICBuZXh0U2xpZGU6ICdqcy1nYWxsZXJ5LW5leHQyJyxcclxuICBjb250YWluZXI6ICcuanMtZ2FsbGVyeS13cmFwMicsXHJcbiAgZ2FsbGVyeTogJ2pzLWdhbGxlcnknLFxyXG4gXHJcbiAgdGh1bWJzOiB0cnVlXHJcbiAgLy8gbG9hZGVyOiB0cnVlLFxyXG4gIC8vIGZ1bGxTY3JlZW5Nb2RlOiB0cnVlXHJcblxyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9hcHAuanMiXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFSQTtBQUNBO0FBWUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQUNBO0FBZ0JBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n");

/***/ })
/******/ ]);